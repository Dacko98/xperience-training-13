@using MedioClinic.ViewComponents
@model (string CultureSwitchId, Dictionary<XperienceAdapter.Models.SiteCulture, string> Variants)

@{
    var triggerViewName = $"{Navigation.PartialViewPath}/_DropdownTrigger";

    var orderedItems = Model.Variants.Keys
        .OrderBy(culture => culture.IsDefault)
        .ThenBy(culture => culture.FriendlyName, StringComparer.CurrentCultureIgnoreCase)
        .Select(culture => (Url.Content(Model.Variants[culture]?.ToLowerInvariant()), culture.ShortName));

    var currentCulture = Model.Variants.Keys
        .FirstOrDefault(culture =>
            !string.IsNullOrEmpty(culture.IsoCode) &&
            string.Equals(culture.IsoCode, System.Threading.Thread.CurrentThread.CurrentUICulture.Name, StringComparison.OrdinalIgnoreCase))
        .ShortName;
}

<partial name="@triggerViewName" model="@(Model.CultureSwitchId, currentCulture, orderedItems)" />